define("cadrerealistic:widget/addecurityprodu/addecurityprodu.js",function(t,e,r){var i=i||{};i={init:function(){var t=this;if(Request.QueryString("produparams")){var e=JSON.parse(decodeURIComponent(Request.QueryString("produparams")));$("#Safetyproduct_storagetime").val(e.storagetime),$("#Safetyproduct_theproblem").val(e.theproblem),$("#Safetyproduct_company").find("option[value='"+e.company+"']").attr("selected","selected")}t.render(),t.bind(),$("#js-a-ecurityprodu").addClass("current")},render:function(){var t=this;t.myjumpurl="",t.addsaferiskbtn=$("#js-input-addsaferisk"),t.cotiuetwo=$("#js-input-cotiuetwo"),t.submitbtn=$("#js-input-submitpro"),t.cancelbtn=$("#js-input-procancel"),"both"==Request.QueryString("step")?t.cotiuetwo.show(100):t.addsaferiskbtn.show(100)},bind:function(){var t=this;t.submitbtn.on("click",$.proxy(t._submitEvent,this)),t.cotiuetwo.on("click",$.proxy(t._submitEvent,this)),t.addsaferiskbtn.on("click",$.proxy(t._submitEvent,this)),t.cancelbtn.on("click",$.proxy(t._cancelEvent,this)),t.listenerjump()},_cancelEvent:function(){location.href="index.php?r=realinvestigation/index"},listenerjump:function(){var t=this;listener.on("safetyproduct-form","jump",function(e,r){"jump"==r&&ui.notifyDialog("安全生产问题已自动保存成功，系统即将跳转!",function(){location.href=decodeURIComponent(t.myjumpurl)})})},formValidate:function(){var t=$("#safetyproduct-form").validate({errorElement:"span",rules:{"Safetyproduct[infosources]":{required:!0},"Safetyproduct[company]":{required:!0},"Safetyproduct[theproblem]":{required:!0},"Safetyproduct[storagetime]":{required:!0},"Safetyproduct[thesolution]":{required:!0},"Safetyproduct[dutydepartment]":{required:!0},"Safetyproduct[dutyperson]":{required:!0},"Safetyproduct[deadline]":{required:!0},"Safetyproduct[checkperson]":{required:!0}},errorPlacement:function(t,e){t.insertAfter(e)},success:function(t){t.html("&nbsp;").addClass("success")}});return t},_submitEvent:function(t){var e=this,r=$(t.currentTarget),i=r.attr("data-jumpurl");return"addtwocontrary"==i&&Request.QueryString("twoparams")&&(i+="&twoparams="+Request.QueryString("twoparams").trim()),i&&(e.myjumpurl="index.php?r=cadrerealistic/"+i),e.formValidate().form()?void 0:(t.preventDefault(),jError("请按系统要求填写安全生产数据！"),!1)}},r.exports=i});